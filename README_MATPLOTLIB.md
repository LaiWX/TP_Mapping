# Matplotlib版本偏移量图绘制程序

这是一个使用Matplotlib绘图库实现的偏移量图绘制程序，相较于原始的QPainter实现，提供了更高的性能和更丰富的交互功能。

## 主要优势

1. **更高的绘图性能**：
   - Matplotlib使用优化的渲染引擎，处理大量数据点时性能更好
   - 使用NumPy进行数据处理，提高了数值计算效率

2. **丰富的交互功能**：
   - 内置的缩放、平移和保存功能
   - 可以很容易地保存图表为各种格式（PNG、PDF、SVG等）
   - 鼠标悬停时显示更详细的信息
   - 图例功能，可以清晰区分不同的多边形

3. **更好的可扩展性**：
   - 可以轻松添加更多的图表分析功能
   - 支持复杂的图表定制
   - 可以添加多个子图表进行对比分析

## 使用方式

运行方式与原版相同，但提供了更多功能：

```bash
python mapping_matplotlib.py
```

### 新增功能

1. **工具栏**：
   - 缩放按钮：放大/缩小特定区域
   - 平移工具：在图表中移动视图
   - 重置视图：恢复原始视图
   - 保存图表：将当前图表保存为图像文件

2. **点击交互**：
   - 点击多边形上的点可以查看详细信息
   - 显示原始坐标或偏移量数据

3. **图例**：
   - 自动生成图例，区分不同的Shot和Glass数据

## 实现细节

- 使用了Matplotlib的FigureCanvasQTAgg实现Qt应用中的嵌入
- 利用Matplotlib的事件处理机制实现交互功能
- 保持了与原版相同的数据处理逻辑，确保结果一致性

## 依赖项

确保安装了以下依赖项：

```
pyside6>=6.5.0
pandas>=1.5.0
numpy>=1.20.0
matplotlib>=3.5.0
```

可以通过以下命令安装：

```bash
pip install -r requirements.txt
``` 